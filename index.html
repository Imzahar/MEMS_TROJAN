<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MEMS TROJAN - –°–æ–∑–¥–∞—Ç–µ–ª—å –º–µ–º–æ–≤</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary: #00d4ff;
            --primary-dark: #0099cc;
            --secondary: #ff3366;
            --dark: #0a0e17;
            --dark-light: #1a2238;
            --light: #f5f7fa;
            --gray: #8a93a7;
        }
        
        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--dark);
            color: var(--light);
            line-height: 1.6;
        }
        
        h1, h2, h3, h4 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header */
        header {
            background-color: rgba(10, 14, 23, 0.95);
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid rgba(0, 212, 255, 0.2);
            padding: 15px 0;
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        .logo-icon::after {
            content: "";
            position: absolute;
            width: 30px;
            height: 30px;
            background-color: var(--dark);
            border-radius: 50%;
            transform: rotate(45deg);
        }
        
        .logo-text {
            font-size: 28px;
            font-weight: 800;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            letter-spacing: 1px;
        }
        
        .logo-text span {
            color: var(--primary);
        }
        
        .nav-links {
            display: flex;
            gap: 30px;
        }
        
        .nav-links a {
            color: var(--light);
            text-decoration: none;
            font-weight: 500;
            font-size: 16px;
            transition: color 0.3s;
            position: relative;
        }
        
        .nav-links a:hover {
            color: var(--primary);
        }
        
        .nav-links a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            background: var(--primary);
            bottom: -5px;
            left: 0;
            transition: width 0.3s;
        }
        
        .nav-links a:hover::after {
            width: 100%;
        }
        
        /* Hero Section */
        .hero {
            padding: 80px 0;
            background: linear-gradient(135deg, rgba(10, 14, 23, 0.9) 0%, rgba(26, 34, 56, 0.9) 100%), 
                        radial-gradient(circle at 20% 50%, rgba(0, 212, 255, 0.15) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(255, 51, 102, 0.1) 0%, transparent 50%);
        }
        
        .hero-content {
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .hero h1 {
            font-size: 48px;
            margin-bottom: 20px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            line-height: 1.2;
        }
        
        .hero p {
            font-size: 20px;
            color: var(--gray);
            margin-bottom: 40px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .cta-button {
            display: inline-block;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
            padding: 15px 40px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            font-size: 18px;
            transition: all 0.3s;
            box-shadow: 0 10px 20px rgba(0, 212, 255, 0.3);
            border: none;
            cursor: pointer;
        }
        
        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 25px rgba(0, 212, 255, 0.4);
        }
        
        /* Main Content */
        .main-content {
            padding: 80px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 50px;
            position: relative;
        }
        
        .section-title h2 {
            font-size: 36px;
            display: inline-block;
            position: relative;
            z-index: 1;
        }
        
        .section-title h2::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 10px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
            bottom: 5px;
            left: 0;
            z-index: -1;
            opacity: 0.5;
        }
        
        /* Meme Templates */
        .meme-templates {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }
        
        .meme-card {
            background-color: var(--dark-light);
            border-radius: 15px;
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .meme-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            border-color: rgba(0, 212, 255, 0.3);
        }
        
        .meme-image {
            height: 250px;
            background-color: #2a354f;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }
        
        .meme-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }
        
        .meme-card:hover .meme-image img {
            transform: scale(1.05);
        }
        
        .meme-info {
            padding: 20px;
        }
        
        .meme-info h3 {
            font-size: 20px;
            margin-bottom: 10px;
            color: var(--primary);
        }
        
        .meme-info p {
            color: var(--gray);
            font-size: 14px;
            margin-bottom: 15px;
        }
        
        .use-template {
            background-color: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
            padding: 8px 20px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            font-size: 16px;
        }
        
        .use-template:hover {
            background-color: var(--primary);
            color: var(--dark);
        }
        
        /* Meme Editor */
        .meme-editor {
            background-color: var(--dark-light);
            border-radius: 15px;
            padding: 40px;
            margin-top: 40px;
            display: none;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 212, 255, 0.1);
        }
        
        .editor-active {
            display: block;
        }
        
        .editor-container {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
        }
        
        .canvas-container {
            flex: 1;
            min-width: 300px;
            background-color: var(--dark);
            border-radius: 10px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
        }
        
        .canvas-wrapper {
            position: relative;
            max-width: 100%;
        }
        
        #memeCanvas {
            max-width: 100%;
            background-color: white;
            border-radius: 5px;
            display: block;
        }
        
        .editor-controls {
            flex: 1;
            min-width: 300px;
        }
        
        .control-group {
            margin-bottom: 25px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .control-group h4 {
            margin-bottom: 15px;
            color: var(--primary);
            font-size: 18px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .control-group h4 i {
            font-size: 20px;
        }
        
        .text-input {
            width: 100%;
            padding: 12px 15px;
            background-color: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: white;
            font-size: 16px;
            margin-bottom: 10px;
            transition: all 0.3s;
        }
        
        .text-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(0, 212, 255, 0.2);
        }
        
        .range-container {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 10px;
        }
        
        .range-container label {
            min-width: 120px;
            color: var(--gray);
        }
        
        input[type="range"] {
            flex: 1;
            height: 5px;
            -webkit-appearance: none;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            outline: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: var(--primary);
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid white;
        }
        
        .color-picker {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 10px;
        }
        
        .color-option {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid transparent;
            transition: transform 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: white;
        }
        
        .color-option:hover {
            transform: scale(1.1);
        }
        
        .color-option.active {
            border-color: white;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
        
        .editor-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        .editor-btn {
            padding: 12px 25px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            min-width: 120px;
        }
        
        .primary-btn {
            background: linear-gradient(90deg, var(--primary), var(--primary-dark));
            color: white;
            flex: 2;
        }
        
        .secondary-btn {
            background-color: transparent;
            color: var(--gray);
            border: 1px solid var(--gray);
            flex: 1;
        }
        
        .tertiary-btn {
            background-color: transparent;
            color: var(--secondary);
            border: 1px solid var(--secondary);
            flex: 1;
        }
        
        .primary-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 212, 255, 0.4);
        }
        
        .secondary-btn:hover {
            border-color: var(--primary);
            color: var(--primary);
        }
        
        .tertiary-btn:hover {
            background-color: rgba(255, 51, 102, 0.1);
        }
        
        /* Font selector */
        .font-selector {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .font-option {
            padding: 10px;
            text-align: center;
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            background: rgba(255, 255, 255, 0.05);
            transition: all 0.3s;
        }
        
        .font-option:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .font-option.active {
            border-color: var(--primary);
            background: rgba(0, 212, 255, 0.1);
        }
        
        /* New features panel */
        .features-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .feature-btn {
            padding: 10px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            font-size: 14px;
        }
        
        .feature-btn:hover {
            background: rgba(0, 212, 255, 0.1);
            border-color: var(--primary);
            transform: translateY(-2px);
        }
        
        .feature-btn i {
            font-size: 20px;
        }
        
        /* Preview section */
        .preview-section {
            display: none;
            margin-top: 20px;
            text-align: center;
        }
        
        .preview-container {
            display: inline-block;
            position: relative;
            margin: 20px 0;
        }
        
        #previewCanvas {
            max-width: 100%;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        /* Footer */
        footer {
            background-color: var(--dark-light);
            padding: 40px 0;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .footer-content {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 40px;
        }
        
        .footer-logo {
            flex: 1;
            min-width: 250px;
        }
        
        .footer-logo .logo-text {
            font-size: 24px;
            margin-bottom: 15px;
            display: block;
        }
        
        .footer-logo p {
            color: var(--gray);
            max-width: 300px;
        }
        
        .footer-links {
            flex: 1;
            min-width: 200px;
        }
        
        .footer-links h4 {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 18px;
        }
        
        .footer-links ul {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 10px;
        }
        
        .footer-links a {
            color: var(--gray);
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-links a:hover {
            color: var(--primary);
        }
        
        .copyright {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            color: var(--gray);
            font-size: 14px;
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background-color: var(--dark-light);
            padding: 30px;
            border-radius: 15px;
            max-width: 500px;
            width: 90%;
            border: 1px solid var(--primary);
            position: relative;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            color: var(--primary);
            font-size: 24px;
        }
        
        .close-modal {
            background: none;
            border: none;
            color: var(--gray);
            font-size: 24px;
            cursor: pointer;
            transition: color 0.3s;
        }
        
        .close-modal:hover {
            color: var(--secondary);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header-container {
                flex-direction: column;
                gap: 20px;
            }
            
            .nav-links {
                gap: 20px;
            }
            
            .hero h1 {
                font-size: 36px;
            }
            
            .hero p {
                font-size: 18px;
            }
            
            .editor-container {
                flex-direction: column;
            }
            
            .section-title h2 {
                font-size: 28px;
            }
            
            .features-panel {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .editor-buttons {
                flex-direction: column;
            }
            
            .editor-btn {
                width: 100%;
            }
        }
        
        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
        }
        
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: var(--dark);
            color: white;
            text-align: center;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            border: 1px solid var(--primary);
            font-size: 12px;
        }
        
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        
        /* Loading animation */
        .loader {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            z-index: 10;
        }
        
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
        
        /* Notification */
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--primary);
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            display: none;
            z-index: 1000;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <div class="logo">
                <div class="logo-icon"></div>
                <div class="logo-text">MEMS <span>TROJAN</span></div>
            </div>
            <nav class="nav-links">
                <a href="#templates">–®–∞–±–ª–æ–Ω—ã</a>
                <a href="#editor">–†–µ–¥–∞–∫—Ç–æ—Ä</a>
                <a href="#create">–°–æ–∑–¥–∞—Ç—å –º–µ–º</a>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container hero-content">
            <h1>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –º–µ–º—ã –∫–∞–∫ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª</h1>
            <p>MEMS TROJAN - –ª—É—á—à–∏–π –æ–Ω–ª–∞–π–Ω-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–µ–º–æ–≤. –í—ã–±–∏—Ä–∞–π—Ç–µ –∏–∑ –≥–æ—Ç–æ–≤—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ –∏–ª–∏ –∑–∞–≥—Ä—É–∂–∞–π—Ç–µ —Å–≤–æ–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è. –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –∏ –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏!</p>
            <button class="cta-button" id="startCreating">–ù–∞—á–∞—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å <i class="fas fa-arrow-right"></i></button>
        </div>
    </section>

    <!-- Main Content -->
    <div class="container main-content">
        <!-- Meme Templates -->
        <section id="templates">
            <div class="section-title">
                <h2>–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã –º–µ–º–æ–≤</h2>
            </div>
            
            <div class="meme-templates">
                <!-- Template 1 -->
                <div class="meme-card">
                    <div class="meme-image">
                        <img src="images/meme1.jpg" alt="–®–∞–±–ª–æ–Ω –º–µ–º–∞" onerror="this.src='https://images.unsplash.com/photo-1620641788421-7a1c342ea42e?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80'">
                    </div>
                    <div class="meme-info">
                        <h3>–î–æ–≤–æ–ª—å–Ω—ã–π –ü–∞–≤–µ–ª</h3>
                        <p>–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –º–µ–º —Å —É–ª—ã–±–∞—é—â–∏–º—Å—è –º—É–∂—á–∏–Ω–æ–π. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Å–∏—Ç—É–∞—Ü–∏–π, –∫–æ–≥–¥–∞ –≤—Å—ë –∏–¥—ë—Ç –ø–æ –ø–ª–∞–Ω—É.</p>
                        <button class="use-template" data-template="1">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω</button>
                    </div>
                </div>
                
                <!-- Template 2 -->
                <div class="meme-card">
                    <div class="meme-image">
                        <img src="images/meme2.jpg" alt="–®–∞–±–ª–æ–Ω –º–µ–º–∞" onerror="this.src='https://images.unsplash.com/photo-1611605698335-8b1569810432?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80'">
                    </div>
                    <div class="meme-info">
                        <h3>–£–¥–∏–≤–ª—ë–Ω–Ω–∞—è –∫–æ—à–∫–∞</h3>
                        <p>–ö–æ—Ç —Å –±–æ–ª—å—à–∏–º–∏ –≥–ª–∞–∑–∞–º–∏. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≤—ã—Ä–∞–∂–µ–Ω–∏—è —à–æ–∫–∞, —É–¥–∏–≤–ª–µ–Ω–∏—è –∏–ª–∏ –Ω–µ–¥–æ–≤–µ—Ä–∏—è.</p>
                        <button class="use-template" data-template="2">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω</button>
                    </div>
                </div>
                
                <!-- Template 3 -->
                <div class="meme-card">
                    <div class="meme-image">
                        <img src="images/meme3.jpg" alt="–®–∞–±–ª–æ–Ω –º–µ–º–∞" onerror="this.src='https://images.unsplash.com/photo-1561948955-570b270e7c36?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80'">
                    </div>
                    <div class="meme-info">
                        <h3>–ö–æ—Ç –∑–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º</h3>
                        <p>–ö–æ—Ç–∏–∫ —Å–µ—Ä—å—ë–∑–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞ –Ω–æ—É—Ç–±—É–∫–æ–º. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è IT-—Ç–µ–º –∏ —Ä–∞–±–æ—á–∏—Ö —Å–∏—Ç—É–∞—Ü–∏–π.</p>
                        <button class="use-template" data-template="3">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω</button>
                    </div>
                </div>
                
                <!-- Template 4 -->
                <div class="meme-card">
                    <div class="meme-image">
                        <img src="images/meme4.jpg" alt="–®–∞–±–ª–æ–Ω –º–µ–º–∞" onerror="this.src='https://images.unsplash.com/photo-1514888286974-6d03bde4ba14?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80'">
                    </div>
                    <div class="meme-info">
                        <h3>–ó–∞–¥—É–º—á–∏–≤–∞—è –∫–æ—à–∫–∞</h3>
                        <p>–ö–æ—à–∫–∞ —Å —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–º –≤–∑–≥–ª—è–¥–æ–º. –î–ª—è –≥–ª—É–±–æ–∫–∏—Ö –º—ã—Å–ª–µ–π –∏ –∂–∏–∑–Ω–µ–Ω–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π.</p>
                        <button class="use-template" data-template="4">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω</button>
                    </div>
                </div>
                
                <!-- Template 5 -->
                <div class="meme-card">
                    <div class="meme-image">
                        <img src="images/meme5.jpg" alt="–®–∞–±–ª–æ–Ω –º–µ–º–∞" onerror="this.src='https://images.unsplash.com/photo-1543852786-1cf6624b9987?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80'">
                    </div>
                    <div class="meme-info">
                        <h3>–°–µ—Ä—å—ë–∑–Ω–∞—è —Å–æ–≤–∞</h3>
                        <p>–ú—É–¥—Ä–∞—è —Å–æ–≤–∞ —Å –ø—Ä–æ–Ω–∑–∏—Ç–µ–ª—å–Ω—ã–º –≤–∑–≥–ª—è–¥–æ–º. –î–ª—è —Å–∏—Ç—É–∞—Ü–∏–π, —Ç—Ä–µ–±—É—é—â–∏—Ö —Å–µ—Ä—å—ë–∑–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞.</p>
                        <button class="use-template" data-template="5">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω</button>
                    </div>
                </div>
                
                <!-- Template 6 -->
                <div class="meme-card">
                    <div class="meme-image">
                        <img src="images/meme6.jpg" alt="–®–∞–±–ª–æ–Ω –º–µ–º–∞" onerror="this.src='https://images.unsplash.com/photo-1573865528899-657a5d2d4c5d?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80'">
                    </div>
                    <div class="meme-info">
                        <h3>–°–º–µ—é—â–∏–π—Å—è —Ö–∞—Å–∫–∏</h3>
                        <p>–í–µ—Å—ë–ª–∞—è —Å–æ–±–∞–∫–∞ —Å –æ—Ç–∫—Ä—ã—Ç–æ–π –ø–∞—Å—Ç—å—é. –û—Ç–ª–∏—á–Ω–æ –ø–µ—Ä–µ–¥–∞—ë—Ç —Ä–∞–¥–æ—Å—Ç—å –∏ —Å–º–µ—Ö.</p>
                        <button class="use-template" data-template="6">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω</button>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Meme Editor -->
        <section id="editor">
            <div class="section-title">
                <h2>–†–µ–¥–∞–∫—Ç–æ—Ä –º–µ–º–æ–≤</h2>
            </div>
            
            <div class="meme-editor" id="memeEditor">
                <div class="editor-container">
                    <div class="canvas-container">
                        <div class="loader" id="canvasLoader"></div>
                        <div class="canvas-wrapper">
                            <canvas id="memeCanvas" width="600" height="500"></canvas>
                        </div>
                        <div class="preview-section" id="previewSection">
                            <div class="preview-container">
                                <canvas id="previewCanvas" width="300" height="250"></canvas>
                            </div>
                            <p style="color: var(--gray); margin-top: 10px;">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π</p>
                        </div>
                    </div>
                    
                    <div class="editor-controls">
                        <div class="control-group">
                            <h4><i class="fas fa-text-height"></i> –¢–µ–∫—Å—Ç —Å–≤–µ—Ä—Ö—É</h4>
                            <input type="text" class="text-input" id="topText" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–µ—Ä—Ö–Ω–∏–π —Ç–µ–∫—Å—Ç...">
                            <div class="range-container">
                                <label>–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞:</label>
                                <input type="range" id="topFontSize" min="10" max="80" value="40">
                                <span id="topFontSizeValue">40</span>
                            </div>
                            <div class="range-container">
                                <label>–ü–æ–∑–∏—Ü–∏—è Y:</label>
                                <input type="range" id="topYPosition" min="10" max="200" value="50">
                                <span id="topYValue">50</span>
                            </div>
                        </div>
                        
                        <div class="control-group">
                            <h4><i class="fas fa-text-height"></i> –¢–µ–∫—Å—Ç —Å–Ω–∏–∑—É</h4>
                            <input type="text" class="text-input" id="bottomText" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∂–Ω–∏–π —Ç–µ–∫—Å—Ç...">
                            <div class="range-container">
                                <label>–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞:</label>
                                <input type="range" id="bottomFontSize" min="10" max="80" value="40">
                                <span id="bottomFontSizeValue">40</span>
                            </div>
                            <div class="range-container">
                                <label>–ü–æ–∑–∏—Ü–∏—è Y:</label>
                                <input type="range" id="bottomYPosition" min="300" max="490" value="450">
                                <span id="bottomYValue">450</span>
                            </div>
                        </div>
                        
                        <div class="control-group">
                            <h4><i class="fas fa-palette"></i> –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞</h4>
                            <div class="color-picker">
                                <div class="color-option active" style="background-color: white;" data-color="white" title="–ë–µ–ª—ã–π">
                                    <i class="fas fa-check" style="display: none;"></i>
                                </div>
                                <div class="color-option" style="background-color: black;" data-color="black" title="–ß—ë—Ä–Ω—ã–π"></div>
                                <div class="color-option" style="background-color: #ff3366;" data-color="#ff3366" title="–†–æ–∑–æ–≤—ã–π"></div>
                                <div class="color-option" style="background-color: #00d4ff;" data-color="#00d4ff" title="–ì–æ–ª—É–±–æ–π"></div>
                                <div class="color-option" style="background-color: #ffcc00;" data-color="#ffcc00" title="–ñ—ë–ª—Ç—ã–π"></div>
                                <div class="color-option" style="background-color: #00ff88;" data-color="#00ff88" title="–ó–µ–ª—ë–Ω—ã–π"></div>
                                <div class="color-option tooltip" style="background: linear-gradient(45deg, #ff3366, #00d4ff);" data-color="gradient" title="–ì—Ä–∞–¥–∏–µ–Ω—Ç">
                                    <i class="fas fa-fill-drip"></i>
                                    <span class="tooltiptext">–ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ü–≤–µ—Ç</span>
                                </div>
                            </div>
                            <div class="range-container">
                                <label>–¶–≤–µ—Ç –æ–±–≤–æ–¥–∫–∏:</label>
                                <input type="color" id="strokeColor" value="#000000" style="width: 40px; height: 40px; border-radius: 50%; border: none; cursor: pointer;">
                            </div>
                            <div class="range-container">
                                <label>–¢–æ–ª—â–∏–Ω–∞ –æ–±–≤–æ–¥–∫–∏:</label>
                                <input type="range" id="strokeWidth" min="0" max="10" value="2">
                                <span id="strokeWidthValue">2</span>
                            </div>
                        </div>
                        
                        <div class="control-group">
                            <h4><i class="fas fa-font"></i> –®—Ä–∏—Ñ—Ç</h4>
                            <div class="font-selector">
                                <div class="font-option active" data-font="Impact" style="font-family: Impact, sans-serif;">Impact</div>
                                <div class="font-option" data-font="Arial" style="font-family: Arial, sans-serif;">Arial</div>
                                <div class="font-option" data-font="Comic Sans MS" style="font-family: 'Comic Sans MS', cursive;">Comic Sans</div>
                                <div class="font-option" data-font="Georgia" style="font-family: Georgia, serif;">Georgia</div>
                                <div class="font-option" data-font="Courier New" style="font-family: 'Courier New', monospace;">Courier</div>
                                <div class="font-option" data-font="Verdana" style="font-family: Verdana, sans-serif;">Verdana</div>
                            </div>
                        </div>
                        
                        <div class="features-panel">
                            <button class="feature-btn" id="addTextBtn">
                                <i class="fas fa-plus"></i>
                                –î–æ–±–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç
                            </button>
                            <button class="feature-btn" id="addEmojiBtn">
                                <i class="fas fa-smile"></i>
                                –î–æ–±–∞–≤–∏—Ç—å —ç–º–æ–¥–∑–∏
                            </button>
                            <button class="feature-btn" id="addStickerBtn">
                                <i class="fas fa-sticky-note"></i>
                                –°—Ç–∏–∫–µ—Ä—ã
                            </button>
                            <button class="feature-btn" id="filterBtn">
                                <i class="fas fa-sliders-h"></i>
                                –§–∏–ª—å—Ç—Ä—ã
                            </button>
                            <button class="feature-btn" id="previewBtn">
                                <i class="fas fa-eye"></i>
                                –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
                            </button>
                            <button class="feature-btn" id="shareBtn">
                                <i class="fas fa-share-alt"></i>
                                –ü–æ–¥–µ–ª–∏—Ç—å—Å—è
                            </button>
                        </div>
                        
                        <div class="editor-buttons">
                            <button class="editor-btn primary-btn" id="downloadMeme">
                                <i class="fas fa-download"></i> –°–∫–∞—á–∞—Ç—å –º–µ–º
                            </button>
                            <button class="editor-btn secondary-btn" id="saveDraft">
                                <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                            </button>
                            <button class="editor-btn tertiary-btn" id="resetEditor">
                                <i class="fas fa-redo"></i> –°–±—Ä–æ—Å–∏—Ç—å
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Upload Section -->
        <section id="create" style="margin-top: 80px;">
            <div class="section-title">
                <h2>–°–æ–∑–¥–∞—Ç—å —Å–≤–æ–π –º–µ–º</h2>
            </div>
            
            <div style="text-align: center; background-color: var(--dark-light); padding: 40px; border-radius: 15px;">
                <h3 style="color: var(--primary); margin-bottom: 20px;">–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–≤–æ—ë –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</h3>
                <p style="color: var(--gray); margin-bottom: 30px; max-width: 600px; margin-left: auto; margin-right: auto;">
                    –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–≤–æ—é –∫–∞—Ä—Ç–∏–Ω–∫—É –∏ —Å–æ–∑–¥–∞–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –º–µ–º —Å –ø–æ–º–æ—â—å—é –Ω–∞—à–µ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
                </p>
                <div style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; margin-bottom: 30px;">
                    <div style="display: inline-block;">
                        <input type="file" id="imageUpload" accept="image/*" style="display: none;">
                        <button class="cta-button" id="uploadButton" style="display: flex; align-items: center; gap: 10px;">
                            <i class="fas fa-upload"></i> –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                        </button>
                    </div>
                    <button class="cta-button" id="cameraButton" style="background: linear-gradient(90deg, var(--secondary), #ff6699); display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-camera"></i> –°–¥–µ–ª–∞—Ç—å —Ñ–æ—Ç–æ
                    </button>
                    <button class="cta-button" id="urlButton" style="background: linear-gradient(90deg, #00ff88, #00cc66); display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-link"></i> –ò–∑ URL
                    </button>
                </div>
                <p style="color: var(--gray); margin-top: 15px; font-size: 14px;">
                    –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: JPG, PNG, GIF, WebP (–º–∞–∫—Å. 10 –ú–ë)
                </p>
                <div id="dragDropArea" style="border: 2px dashed var(--primary); border-radius: 15px; padding: 40px; margin-top: 30px; background-color: rgba(0, 212, 255, 0.05);">
                    <i class="fas fa-cloud-upload-alt" style="font-size: 48px; color: var(--primary); margin-bottom: 15px;"></i>
                    <h4 style="color: var(--primary); margin-bottom: 10px;">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—é–¥–∞</h4>
                    <p style="color: var(--gray);">–∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –≤—ã—à–µ</p>
                </div>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <div class="logo-text">MEMS <span>TROJAN</span></div>
                    <p>–õ—É—á—à–∏–π –æ–Ω–ª–∞–π–Ω-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–µ–º–æ–≤. –ë–µ—Å–ø–ª–∞—Ç–Ω–æ, –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ —Å –æ–≥—Ä–æ–º–Ω—ã–º –≤—ã–±–æ—Ä–æ–º —à–∞–±–ª–æ–Ω–æ–≤.</p>
                </div>
                
                <div class="footer-links">
                    <h4>–ù–∞–≤–∏–≥–∞—Ü–∏—è</h4>
                    <ul>
                        <li><a href="#templates">–®–∞–±–ª–æ–Ω—ã –º–µ–º–æ–≤</a></li>
                        <li><a href="#editor">–†–µ–¥–∞–∫—Ç–æ—Ä</a></li>
                        <li><a href="#create">–°–æ–∑–¥–∞—Ç—å –º–µ–º</a></li>
                    </ul>
                </div>
                
                <div class="footer-links">
                    <h4>–ü–æ–º–æ—â—å</h4>
                    <ul>
                        <li><a href="#" id="helpLink">–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –º–µ–º</a></li>
                        <li><a href="#" id="faqLink">–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã</a></li>
                        <li><a href="#" id="feedbackLink">–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2023 MEMS TROJAN. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã. –ú–µ–º—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–ª—è —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è.</p>
            </div>
        </div>
    </footer>

    <!-- Modal –¥–ª—è URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
    <div class="modal" id="urlModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ URL</h3>
                <button class="close-modal" id="closeUrlModal">&times;</button>
            </div>
            <input type="text" class="text-input" id="imageUrl" placeholder="–í–≤–µ–¥–∏—Ç–µ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è...">
            <div class="editor-buttons" style="margin-top: 20px;">
                <button class="editor-btn primary-btn" id="loadUrlImage">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
                <button class="editor-btn secondary-btn" id="cancelUrlModal">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- Modal –¥–ª—è —ç–º–æ–¥–∑–∏ -->
    <div class="modal" id="emojiModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">–í—ã–±–µ—Ä–∏—Ç–µ —ç–º–æ–¥–∑–∏</h3>
                <button class="close-modal" id="closeEmojiModal">&times;</button>
            </div>
            <div id="emojiContainer" style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 10px; max-height: 300px; overflow-y: auto; padding: 10px;">
                <!-- –≠–º–æ–¥–∑–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification">
        <span id="notificationText"></span>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // –≠–ª–µ–º–µ–Ω—Ç—ã
            const canvas = document.getElementById('memeCanvas');
            const ctx = canvas.getContext('2d');
            const previewCanvas = document.getElementById('previewCanvas');
            const previewCtx = previewCanvas.getContext('2d');
            const memeEditor = document.getElementById('memeEditor');
            const topTextInput = document.getElementById('topText');
            const bottomTextInput = document.getElementById('bottomText');
            const topFontSizeInput = document.getElementById('topFontSize');
            const bottomFontSizeInput = document.getElementById('bottomFontSize');
            const topFontSizeValue = document.getElementById('topFontSizeValue');
            const bottomFontSizeValue = document.getElementById('bottomFontSizeValue');
            const topYPosition = document.getElementById('topYPosition');
            const bottomYPosition = document.getElementById('bottomYPosition');
            const topYValue = document.getElementById('topYValue');
            const bottomYValue = document.getElementById('bottomYValue');
            const colorOptions = document.querySelectorAll('.color-option');
            const fontOptions = document.querySelectorAll('.font-option');
            const strokeColorInput = document.getElementById('strokeColor');
            const strokeWidthInput = document.getElementById('strokeWidth');
            const strokeWidthValue = document.getElementById('strokeWidthValue');
            const downloadBtn = document.getElementById('downloadMeme');
            const resetBtn = document.getElementById('resetEditor');
            const useTemplateButtons = document.querySelectorAll('.use-template');
            const startCreatingBtn = document.getElementById('startCreating');
            const uploadButton = document.getElementById('uploadButton');
            const imageUpload = document.getElementById('imageUpload');
            const saveDraftBtn = document.getElementById('saveDraft');
            const addTextBtn = document.getElementById('addTextBtn');
            const addEmojiBtn = document.getElementById('addEmojiBtn');
            const filterBtn = document.getElementById('filterBtn');
            const previewBtn = document.getElementById('previewBtn');
            const shareBtn = document.getElementById('shareBtn');
            const previewSection = document.getElementById('previewSection');
            const canvasLoader = document.getElementById('canvasLoader');
            const urlButton = document.getElementById('urlButton');
            const urlModal = document.getElementById('urlModal');
            const closeUrlModal = document.getElementById('closeUrlModal');
            const cancelUrlModal = document.getElementById('cancelUrlModal');
            const loadUrlImage = document.getElementById('loadUrlImage');
            const imageUrl = document.getElementById('imageUrl');
            const emojiModal = document.getElementById('emojiModal');
            const closeEmojiModal = document.getElementById('closeEmojiModal');
            const emojiContainer = document.getElementById('emojiContainer');
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notificationText');
            const dragDropArea = document.getElementById('dragDropArea');
            
            // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
            let currentImage = null;
            let textColor = 'white';
            let topText = '';
            let bottomText = '';
            let topFontSize = 40;
            let bottomFontSize = 40;
            let topY = 50;
            let bottomY = 450;
            let strokeColor = '#000000';
            let strokeWidth = 2;
            let selectedFont = 'Impact';
            let additionalTexts = [];
            let currentFilter = 'none';
            
            // –®–∞–±–ª–æ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–∏ images)
            const templateImages = [
                'images/meme1.jpg',
                'images/meme2.jpg',
                'images/meme3.jpg',
                'images/meme4.jpg',
                'images/meme5.jpg',
                'images/meme6.jpg'
            ];
            
            // –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–µ—Å–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã)
            const fallbackImages = [
                'https://images.unsplash.com/photo-1620641788421-7a1c342ea42e?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80',
                'https://images.unsplash.com/photo-1611605698335-8b1569810432?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80',
                'https://images.unsplash.com/photo-1561948955-570b270e7c36?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80',
                'https://images.unsplash.com/photo-1514888286974-6d03bde4ba14?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80',
                'https://images.unsplash.com/photo-1543852786-1cf6624b9987?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80',
                'https://images.unsplash.com/photo-1573865528899-657a5d2d4c5d?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80'
            ];
            
            // –≠–º–æ–¥–∑–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞
            const emojis = ['üòÇ', 'ü§£', 'üòç', 'ü•∞', 'üòé', 'ü§©', 'üòú', 'ü§™', 'üòè', 'üòí', 'üò≠', 'üò°', 'ü§¨', 'ü§Ø', 'ü•∂', 'üò±', 'ü§Æ', 'üëª', 'üíÄ', 'üëæ', 'ü§ñ', 'üéÉ', 'üí©', 'üôà', 'üôâ', 'üôä', 'üëë', 'üíé', 'üî•', '‚ú®', 'üåü', 'üí•', 'üí´', '‚≠ê', 'ü¶Ñ', 'üê∂', 'üê±', 'üê≠', 'üêπ', 'üê∞', 'ü¶ä', 'üêª', 'üêº', 'üê®', 'üêØ', 'ü¶Å', 'üêÆ', 'üê∑', 'üê∏', 'üêµ'];
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —ç–º–æ–¥–∑–∏ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
            function initEmojis() {
                emojiContainer.innerHTML = '';
                emojis.forEach(emoji => {
                    const emojiElement = document.createElement('div');
                    emojiElement.textContent = emoji;
                    emojiElement.style.fontSize = '24px';
                    emojiElement.style.textAlign = 'center';
                    emojiElement.style.padding = '10px';
                    emojiElement.style.cursor = 'pointer';
                    emojiElement.style.borderRadius = '8px';
                    emojiElement.style.transition = 'all 0.2s';
                    emojiElement.style.backgroundColor = 'rgba(255, 255, 255, 0.05)';
                    
                    emojiElement.addEventListener('mouseenter', function() {
                        this.style.backgroundColor = 'rgba(0, 212, 255, 0.2)';
                        this.style.transform = 'scale(1.1)';
                    });
                    
                    emojiElement.addEventListener('mouseleave', function() {
                        this.style.backgroundColor = 'rgba(255, 255, 255, 0.05)';
                        this.style.transform = 'scale(1)';
                    });
                    
                    emojiElement.addEventListener('click', function() {
                        // –î–æ–±–∞–≤–ª—è–µ–º —ç–º–æ–¥–∑–∏ –∫ –Ω–∏–∂–Ω–µ–º—É —Ç–µ–∫—Å—Ç—É
                        bottomTextInput.value += emoji;
                        bottomText = bottomTextInput.value;
                        drawMeme();
                        closeModal(emojiModal);
                        showNotification(`–≠–º–æ–¥–∑–∏ ${emoji} –¥–æ–±–∞–≤–ª–µ–Ω!`);
                    });
                    
                    emojiContainer.appendChild(emojiElement);
                });
            }
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            loadImage(templateImages[0], true);
            
            // –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
            function loadImage(src, isLocal = false) {
                canvasLoader.style.display = 'block';
                
                const img = new Image();
                img.crossOrigin = 'anonymous';
                
                img.onload = function() {
                    currentImage = img;
                    drawMeme();
                    canvasLoader.style.display = 'none';
                };
                
                img.onerror = function() {
                    // –ï—Å–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–æ—Å—å, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ
                    if (isLocal) {
                        const templateIndex = templateImages.indexOf(src);
                        if (templateIndex !== -1 && fallbackImages[templateIndex]) {
                            img.src = fallbackImages[templateIndex];
                        } else {
                            // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–≤–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                            img.src = fallbackImages[0];
                            showNotification('–õ–æ–∫–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ');
                        }
                    } else {
                        canvasLoader.style.display = 'none';
                        showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è', 'error');
                    }
                };
                
                img.src = src;
            }
            
            // –§—É–Ω–∫—Ü–∏—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –º–µ–º–∞
            function drawMeme() {
                if (!currentImage) return;
                
                // –û—á–∏—â–∞–µ–º canvas
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ñ–∏–ª—å—Ç—Ä
                ctx.filter = currentFilter;
                
                // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä—ã –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                const aspectRatio = currentImage.width / currentImage.height;
                let drawWidth = canvas.width;
                let drawHeight = canvas.height;
                
                if (aspectRatio > 1) {
                    drawHeight = canvas.width / aspectRatio;
                } else {
                    drawWidth = canvas.height * aspectRatio;
                }
                
                const offsetX = (canvas.width - drawWidth) / 2;
                const offsetY = (canvas.height - drawHeight) / 2;
                
                // –†–∏—Å—É–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                ctx.drawImage(currentImage, offsetX, offsetY, drawWidth, drawHeight);
                
                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–∏–ª—å—Ç—Ä –¥–ª—è —Ç–µ–∫—Å—Ç–∞
                ctx.filter = 'none';
                
                // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–∫—Å—Ç–∞
                ctx.textAlign = 'center';
                ctx.lineJoin = 'round';
                
                // –í–µ—Ä—Ö–Ω–∏–π —Ç–µ–∫—Å—Ç
                if (topText) {
                    ctx.font = `bold ${topFontSize}px ${selectedFont}`;
                    ctx.textBaseline = 'top';
                    
                    // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞
                    if (textColor === 'gradient') {
                        const gradient = ctx.createLinearGradient(0, topY - 20, canvas.width, topY + 20);
                        gradient.addColorStop(0, '#ff3366');
                        gradient.addColorStop(1, '#00d4ff');
                        ctx.fillStyle = gradient;
                    } else {
                        ctx.fillStyle = textColor;
                    }
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±–≤–æ–¥–∫—É —Ç–µ–∫—Å—Ç–∞
                    if (strokeWidth > 0) {
                        ctx.strokeStyle = strokeColor;
                        ctx.lineWidth = strokeWidth;
                        ctx.strokeText(topText, canvas.width / 2, topY);
                    }
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–ª–∏–≤–∫—É —Ç–µ–∫—Å—Ç–∞
                    ctx.fillText(topText, canvas.width / 2, topY);
                }
                
                // –ù–∏–∂–Ω–∏–π —Ç–µ–∫—Å—Ç
                if (bottomText) {
                    ctx.font = `bold ${bottomFontSize}px ${selectedFont}`;
                    ctx.textBaseline = 'bottom';
                    
                    // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞
                    if (textColor === 'gradient') {
                        const gradient = ctx.createLinearGradient(0, bottomY - 20, canvas.width, bottomY + 20);
                        gradient.addColorStop(0, '#ff3366');
                        gradient.addColorStop(1, '#00d4ff');
                        ctx.fillStyle = gradient;
                    } else {
                        ctx.fillStyle = textColor;
                    }
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±–≤–æ–¥–∫—É —Ç–µ–∫—Å—Ç–∞
                    if (strokeWidth > 0) {
                        ctx.strokeStyle = strokeColor;
                        ctx.lineWidth = strokeWidth;
                        ctx.strokeText(bottomText, canvas.width / 2, bottomY);
                    }
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–ª–∏–≤–∫—É —Ç–µ–∫—Å—Ç–∞
                    ctx.fillText(bottomText, canvas.width / 2, bottomY);
                }
                
                // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã
                additionalTexts.forEach(textObj => {
                    ctx.font = `bold ${textObj.size}px ${selectedFont}`;
                    ctx.textBaseline = 'middle';
                    ctx.fillStyle = textObj.color;
                    
                    if (textObj.strokeWidth > 0) {
                        ctx.strokeStyle = textObj.strokeColor;
                        ctx.lineWidth = textObj.strokeWidth;
                        ctx.strokeText(textObj.text, textObj.x, textObj.y);
                    }
                    
                    ctx.fillText(textObj.text, textObj.x, textObj.y);
                });
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
                updatePreview();
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞
            function updatePreview() {
                const scale = 0.5;
                previewCtx.clearRect(0, 0, previewCanvas.width, previewCanvas.height);
                previewCtx.drawImage(canvas, 0, 0, previewCanvas.width, previewCanvas.height);
            }
            
            // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            function showNotification(message, type = 'success') {
                notificationText.textContent = message;
                notification.style.backgroundColor = type === 'error' ? 'var(--secondary)' : 'var(--primary)';
                notification.style.display = 'block';
                
                setTimeout(() => {
                    notification.style.display = 'none';
                }, 3000);
            }
            
            // –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            function closeModal(modal) {
                modal.style.display = 'none';
            }
            
            // –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            function openModal(modal) {
                modal.style.display = 'flex';
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è —Ç–µ–∫—Å—Ç–∞
            topTextInput.addEventListener('input', function() {
                topText = this.value;
                drawMeme();
            });
            
            bottomTextInput.addEventListener('input', function() {
                bottomText = this.value;
                drawMeme();
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è —Ä–∞–∑–º–µ—Ä–∞ —à—Ä–∏—Ñ—Ç–∞
            topFontSizeInput.addEventListener('input', function() {
                topFontSize = parseInt(this.value);
                topFontSizeValue.textContent = topFontSize;
                drawMeme();
            });
            
            bottomFontSizeInput.addEventListener('input', function() {
                bottomFontSize = parseInt(this.value);
                bottomFontSizeValue.textContent = bottomFontSize;
                drawMeme();
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –ø–æ–∑–∏—Ü–∏–∏ Y
            topYPosition.addEventListener('input', function() {
                topY = parseInt(this.value);
                topYValue.textContent = topY;
                drawMeme();
            });
            
            bottomYPosition.addEventListener('input', function() {
                bottomY = parseInt(this.value);
                bottomYValue.textContent = bottomY;
                drawMeme();
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞
            colorOptions.forEach(option => {
                option.addEventListener('click', function() {
                    colorOptions.forEach(opt => {
                        opt.classList.remove('active');
                        const icon = opt.querySelector('i');
                        if (icon) icon.style.display = 'none';
                    });
                    
                    this.classList.add('active');
                    const icon = this.querySelector('i');
                    if (icon) icon.style.display = 'block';
                    
                    textColor = this.getAttribute('data-color');
                    drawMeme();
                });
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –≤—ã–±–æ—Ä–∞ —à—Ä–∏—Ñ—Ç–∞
            fontOptions.forEach(option => {
                option.addEventListener('click', function() {
                    fontOptions.forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                    selectedFont = this.getAttribute('data-font');
                    drawMeme();
                });
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –æ–±–≤–æ–¥–∫–∏
            strokeColorInput.addEventListener('input', function() {
                strokeColor = this.value;
                drawMeme();
            });
            
            strokeWidthInput.addEventListener('input', function() {
                strokeWidth = parseInt(this.value);
                strokeWidthValue.textContent = strokeWidth;
                drawMeme();
            });
            
            // –°–±—Ä–æ—Å —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
            resetBtn.addEventListener('click', function() {
                topTextInput.value = '';
                bottomTextInput.value = '';
                topFontSizeInput.value = 40;
                bottomFontSizeInput.value = 40;
                topYPosition.value = 50;
                bottomYPosition.value = 450;
                strokeWidthInput.value = 2;
                strokeColorInput.value = '#000000';
                
                colorOptions.forEach(opt => {
                    opt.classList.remove('active');
                    const icon = opt.querySelector('i');
                    if (icon) icon.style.display = 'none';
                });
                document.querySelector('.color-option[data-color="white"]').classList.add('active');
                document.querySelector('.color-option[data-color="white"] i').style.display = 'block';
                
                fontOptions.forEach(opt => opt.classList.remove('active'));
                document.querySelector('.font-option[data-font="Impact"]').classList.add('active');
                
                topText = '';
                bottomText = '';
                topFontSize = 40;
                bottomFontSize = 40;
                topY = 50;
                bottomY = 450;
                strokeWidth = 2;
                strokeColor = '#000000';
                textColor = 'white';
                selectedFont = 'Impact';
                additionalTexts = [];
                currentFilter = 'none';
                
                drawMeme();
                showNotification('–†–µ–¥–∞–∫—Ç–æ—Ä —Å–±—Ä–æ—à–µ–Ω');
            });
            
            // –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –º–µ–º–∞
            downloadBtn.addEventListener('click', function() {
                const link = document.createElement('a');
                link.download = `mems-trojan-meme-${Date.now()}.png`;
                link.href = canvas.toDataURL('image/png');
                link.click();
                showNotification('–ú–µ–º —É—Å–ø–µ—à–Ω–æ —Å–∫–∞—á–∞–Ω!');
            });
            
            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞
            saveDraftBtn.addEventListener('click', function() {
                const memeData = {
                    image: currentImage.src,
                    topText,
                    bottomText,
                    topFontSize,
                    bottomFontSize,
                    topY,
                    bottomY,
                    textColor,
                    strokeColor,
                    strokeWidth,
                    selectedFont,
                    filter: currentFilter,
                    timestamp: Date.now()
                };
                
                localStorage.setItem('memsTrojanDraft', JSON.stringify(memeData));
                showNotification('–ß–µ—Ä–Ω–æ–≤–∏–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –±—Ä–∞—É–∑–µ—Ä–µ');
            });
            
            // –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫
            const savedDraft = localStorage.getItem('memsTrojanDraft');
            if (savedDraft) {
                try {
                    const draft = JSON.parse(savedDraft);
                    // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–ó–∞–≥—Ä—É–∑–∏—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫" –∏–ª–∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
                } catch (e) {
                    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —á–µ—Ä–Ω–æ–≤–∏–∫–∞:', e);
                }
            }
            
            // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞
            useTemplateButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const templateIndex = parseInt(this.getAttribute('data-template')) - 1;
                    loadImage(templateImages[templateIndex], true);
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä –∏ –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ –Ω–µ–º—É
                    memeEditor.classList.add('editor-active');
                    memeEditor.scrollIntoView({ behavior: 'smooth' });
                    
                    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç—ã
                    topTextInput.value = '';
                    bottomTextInput.value = '';
                    topText = '';
                    bottomText = '';
                    
                    showNotification(`–®–∞–±–ª–æ–Ω "${this.closest('.meme-card').querySelector('h3').textContent}" –∑–∞–≥—Ä—É–∂–µ–Ω`);
                });
            });
            
            // –ö–Ω–æ–ø–∫–∞ "–ù–∞—á–∞—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å"
            startCreatingBtn.addEventListener('click', function() {
                memeEditor.classList.add('editor-active');
                memeEditor.scrollIntoView({ behavior: 'smooth' });
            });
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
            uploadButton.addEventListener('click', function() {
                imageUpload.click();
            });
            
            imageUpload.addEventListener('change', function(e) {
                if (e.target.files && e.target.files[0]) {
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞ (–º–∞–∫—Å. 10 –ú–ë)
                    if (e.target.files[0].size > 10 * 1024 * 1024) {
                        showNotification('–§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π (–º–∞–∫—Å. 10 –ú–ë)', 'error');
                        return;
                    }
                    
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        loadImage(event.target.result);
                        memeEditor.classList.add('editor-active');
                        memeEditor.scrollIntoView({ behavior: 'smooth' });
                        showNotification('–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ');
                    };
                    reader.readAsDataURL(e.target.files[0]);
                }
            });
            
            // Drag and drop –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
            dragDropArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.style.backgroundColor = 'rgba(0, 212, 255, 0.1)';
                this.style.borderColor = 'var(--secondary)';
            });
            
            dragDropArea.addEventListener('dragleave', function(e) {
                e.preventDefault();
                this.style.backgroundColor = 'rgba(0, 212, 255, 0.05)';
                this.style.borderColor = 'var(--primary)';
            });
            
            dragDropArea.addEventListener('drop', function(e) {
                e.preventDefault();
                this.style.backgroundColor = 'rgba(0, 212, 255, 0.05)';
                this.style.borderColor = 'var(--primary)';
                
                if (e.dataTransfer.files && e.dataTransfer.files[0]) {
                    const file = e.dataTransfer.files[0];
                    
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞
                    if (!file.type.match('image.*')) {
                        showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ', 'error');
                        return;
                    }
                    
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞
                    if (file.size > 10 * 1024 * 1024) {
                        showNotification('–§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π (–º–∞–∫—Å. 10 –ú–ë)', 'error');
                        return;
                    }
                    
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        loadImage(event.target.result);
                        memeEditor.classList.add('editor-active');
                        memeEditor.scrollIntoView({ behavior: 'smooth' });
                        showNotification('–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ —á–µ—Ä–µ–∑ Drag & Drop');
                    };
                    reader.readAsDataURL(file);
                }
            });
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ URL
            urlButton.addEventListener('click', function() {
                openModal(urlModal);
            });
            
            closeUrlModal.addEventListener('click', function() {
                closeModal(urlModal);
            });
            
            cancelUrlModal.addEventListener('click', function() {
                closeModal(urlModal);
            });
            
            loadUrlImage.addEventListener('click', function() {
                const url = imageUrl.value.trim();
                if (!url) {
                    showNotification('–í–≤–µ–¥–∏—Ç–µ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è', 'error');
                    return;
                }
                
                // –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ URL
                if (!url.match(/^https?:\/\/.+\/.+\.(jpg|jpeg|png|gif|webp)/i)) {
                    showNotification('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è', 'error');
                    return;
                }
                
                loadImage(url);
                closeModal(urlModal);
                memeEditor.classList.add('editor-active');
                memeEditor.scrollIntoView({ behavior: 'smooth' });
                imageUrl.value = '';
                showNotification('–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–æ URL...');
            });
            
            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–º–æ–¥–∑–∏
            addEmojiBtn.addEventListener('click', function() {
                initEmojis();
                openModal(emojiModal);
            });
            
            closeEmojiModal.addEventListener('click', function() {
                closeModal(emojiModal);
            });
            
            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
            addTextBtn.addEventListener('click', function() {
                const newText = prompt('–í–≤–µ–¥–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç:', '–ù–æ–≤—ã–π —Ç–µ–∫—Å—Ç');
                if (newText) {
                    const textObj = {
                        text: newText,
                        size: 30,
                        color: textColor,
                        strokeColor: strokeColor,
                        strokeWidth: strokeWidth,
                        x: canvas.width / 2,
                        y: canvas.height / 2
                    };
                    
                    additionalTexts.push(textObj);
                    drawMeme();
                    showNotification('–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–æ–±–∞–≤–ª–µ–Ω');
                }
            });
            
            // –§–∏–ª—å—Ç—Ä—ã
            filterBtn.addEventListener('click', function() {
                const filters = {
                    'none': '–ë–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞',
                    'grayscale(100%)': '–ß–µ—Ä–Ω–æ-–±–µ–ª—ã–π',
                    'sepia(100%)': '–°–µ–ø–∏—è',
                    'invert(100%)': '–ò–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π',
                    'hue-rotate(90deg)': '–¶–≤–µ—Ç–æ–≤–æ–π —Å–¥–≤–∏–≥',
                    'contrast(200%)': '–í—ã—Å–æ–∫–∞—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å',
                    'brightness(150%)': '–Ø—Ä—á–µ',
                    'saturate(200%)': '–ù–∞—Å—ã—â–µ–Ω–Ω–µ–µ'
                };
                
                const filterNames = Object.keys(filters);
                const currentIndex = filterNames.indexOf(currentFilter);
                const nextIndex = (currentIndex + 1) % filterNames.length;
                
                currentFilter = filterNames[nextIndex];
                drawMeme();
                showNotification(`–§–∏–ª—å—Ç—Ä: ${filters[currentFilter]}`);
            });
            
            // –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
            previewBtn.addEventListener('click', function() {
                if (previewSection.style.display === 'none' || previewSection.style.display === '') {
                    previewSection.style.display = 'block';
                    previewBtn.innerHTML = '<i class="fas fa-eye-slash"></i> –°–∫—Ä—ã—Ç—å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä';
                } else {
                    previewSection.style.display = 'none';
                    previewBtn.innerHTML = '<i class="fas fa-eye"></i> –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä';
                }
            });
            
            // –ü–æ–¥–µ–ª–∏—Ç—å—Å—è
            shareBtn.addEventListener('click', function() {
                if (navigator.share) {
                    canvas.toBlob(function(blob) {
                        const file = new File([blob], 'meme.png', { type: 'image/png' });
                        
                        navigator.share({
                            title: '–ú–æ–π –º–µ–º –∏–∑ MEMS TROJAN',
                            text: '–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –º–æ–π –º–µ–º!',
                            files: [file]
                        }).catch(error => {
                            console.log('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Web Share API:', error);
                            showNotification('–ú–µ–º –≥–æ—Ç–æ–≤ –∫ —Å–∫–∞—á–∏–≤–∞–Ω–∏—é!', 'success');
                        });
                    });
                } else {
                    showNotification('–ù–∞–∂–º–∏—Ç–µ "–°–∫–∞—á–∞—Ç—å –º–µ–º" –∏ –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å —Ñ–∞–π–ª–æ–º –≤—Ä—É—á–Ω—É—é', 'success');
                }
            });
            
            // –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('href');
                    if (targetId === '#') return;
                    
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });
            
            // –ü–æ–º–æ—â—å –∏ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
            document.getElementById('helpLink').addEventListener('click', function(e) {
                e.preventDefault();
                showNotification('–û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä –∏ –Ω–∞—á–Ω–∏—Ç–µ –¥–æ–±–∞–≤–ª—è—Ç—å —Ç–µ–∫—Å—Ç –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é!');
            });
            
            document.getElementById('faqLink').addEventListener('click', function(e) {
                e.preventDefault();
                showNotification('–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã: 1) –ö–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å - –∫–Ω–æ–ø–∫–∞ "–°–∫–∞—á–∞—Ç—å –º–µ–º", 2) –ö–∞–∫ —Å–±—Ä–æ—Å–∏—Ç—å - –∫–Ω–æ–ø–∫–∞ "–°–±—Ä–æ—Å–∏—Ç—å"');
            });
            
            document.getElementById('feedbackLink').addEventListener('click', function(e) {
                e.preventDefault();
                const email = 'feedback@memstrojan.com';
                showNotification(`–û—Ç–ø—Ä–∞–≤—å—Ç–µ –ø–∏—Å—å–º–æ –Ω–∞ ${email} —Å –≤–∞—à–∏–º–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏!`);
            });
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
            initEmojis();
            drawMeme();
        });
    </script>
</body>
</html>
